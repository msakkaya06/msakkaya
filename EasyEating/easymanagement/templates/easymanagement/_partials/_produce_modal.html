<!-- Modal -->
<div class="modal fade" id="produceModal{{ produce.id }}" data-produce-id="{{ produce.id }}" tabindex="-1" role="dialog" aria-labelledby="produceModal{{ produce.id }}Label" aria-hidden="true" >

    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="produceModal{{ produce.id }}Label">{{produce.name}} Ürününü Güncelleyin</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <!-- Her form için benzersiz bir ID kullan -->
                <form action="{% url 'produce_update' produce.id %}" id="update-form-{{ produce.id }}" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <!-- Form içeriği -->
                    <div class="form-group">
                        <label for="id_name">Ürün Adı:</label>
                        <input type="text" id="id_name" value="{{ produce.name }}" class="form-control" name="name">
                    </div>
                    <div class="form-group">
                        <label for="id_description">Ürün Açıklama:</label>
                        <textarea id="id_description" class="form-control" name="description">{{ produce.description }}</textarea>
                    </div>
                    <div class="form-group">
                        <label for="id_price">Fiyat:</label>
                        <input type="text" id="id_price" value="{{ produce.price }}" class="form-control" name="price">
                    </div>
                    <div class="form-group ">
                        <label for="id_image">Fotoğraf:</label>
                        <img src="{{ produce.image.url }}" alt="{{ produce.name }}" style="max-width: 100px;">
                        <input type="file" id="id_image" class="form-control" name="image">
                    </div>
                    <button type="submit" class="btn btn-primary">Güncelle</button>
                    <div  id="modal-error-msg-{{produce.id}}"class="alert alert-danger mt-2" role="alert" style="display: none;"></div>
                    <div id="modal-success-msg-{{produce.id}}"class="alert alert-success mt-2" style="display: none;"></div> <!-- JSON verisi burada gösterilecek -->
                </form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>
            </div>
        </div>
    </div>
</div>

